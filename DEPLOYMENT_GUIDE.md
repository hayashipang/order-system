# 🚀 果然盈訂單系統 - 部署指南

## 📋 快速部署選項

當您需要更新程式時，請告訴我以下資訊，我會為您執行對應的部署流程：

### 🎯 標準溝通格式
```
我要更新程式，修改了 [具體內容]，請用 [部署方式] 部署
```

### 📝 部署方式選擇

#### **A. 快速部署** ⚡
- **適用**：小修改、bug修復、不涉及資料變更
- **命令**：`npm run deploy:quick`
- **流程**：僅推送程式碼到Git，觸發自動部署
- **時間**：2-3分鐘
- **風險**：低（不涉及資料操作）

#### **B. 完整部署** 🛡️
- **適用**：重要功能更新、需要保留雲端資料
- **命令**：`npm run deploy:full`
- **流程**：備份雲端資料 → 推送程式碼 → 等待部署 → 恢復資料
- **時間**：5-7分鐘
- **風險**：極低（自動備份與恢復）

#### **C. 手動部署** 🔧
- **適用**：需要逐步確認、特殊情況
- **流程**：我幫您逐步執行每個步驟
- **時間**：視情況而定
- **風險**：低（可隨時停止）

### 🎯 部署範例

#### 範例 1：小修改
```
我要更新程式，修改了POS系統的按鈕顏色，請用快速部署
```

#### 範例 2：重要更新
```
我要更新程式，新增了客戶管理功能，請用完整部署
```

#### 範例 3：bug修復
```
我要更新程式，修復了庫存計算錯誤，請用完整部署
```

#### 範例 4：手動控制
```
我要更新程式，修改了資料庫結構，請用手動部署
```

## 📋 部署流程詳解

### 🚀 快速部署流程
1. 檢查程式碼狀態
2. 推送程式碼到Git
3. 觸發Vercel和Railway自動部署
4. 確認部署完成

### 🛡️ 完整部署流程
1. **備份雲端資料**
   - 備份產品資料
   - 備份客戶資料
   - 備份訂單資料
2. **推送程式碼**
   - 提交變更到Git
   - 推送到GitHub
3. **等待部署**
   - 等待Vercel部署完成
   - 等待Railway部署完成
4. **恢復資料**
   - 將備份資料重新上傳到雲端
   - 確保資料完整性

### 🔧 手動部署流程
1. 根據您的需求逐步執行
2. 每個步驟都會確認
3. 可隨時停止或調整

## 🎯 部署前檢查清單

### ✅ 程式碼準備
- [ ] 本地測試通過
- [ ] 功能正常運作
- [ ] 無明顯錯誤

### ✅ 資料保護
- [ ] 確認雲端是否有重要資料
- [ ] 選擇適當的部署方式
- [ ] 如需保留資料，選擇完整部署

### ✅ 部署確認
- [ ] 確認部署方式
- [ ] 確認更新內容
- [ ] 準備測試計畫

## 🚨 緊急情況處理

### 如果部署失敗
1. 檢查錯誤訊息
2. 確認網路連線
3. 重新執行部署
4. 如需要，手動恢復資料

### 如果資料遺失
1. 檢查備份檔案
2. 使用恢復腳本
3. 手動恢復重要資料

## 📞 支援資訊

### 部署相關命令
```bash
# 快速部署
npm run deploy:quick

# 完整部署
npm run deploy:full

# 僅備份資料
npm run backup

# 僅恢復資料
npm run restore
```

### 重要網址
- **Order System**: https://order-system-greenwins-projects.vercel.app/
- **POS System**: https://order-system-greenwins-projects.vercel.app/pos
- **Railway API**: https://order-system-production-6ef7.up.railway.app

### 備份檔案位置
- 本地備份：`cloud_data_backups/`
- 備份格式：`complete_backup_YYYYMMDD_HHMMSS.json`

## 🎉 部署完成後

### 驗證步驟
1. 檢查Order System是否正常
2. 檢查POS System是否正常
3. 測試主要功能
4. 確認資料完整性

### 測試建議
- 登入系統
- 檢查產品列表
- 測試POS銷售
- 確認庫存更新
- 檢查歷史訂單

---

## 💡 使用提示

1. **小修改**：使用快速部署
2. **重要更新**：使用完整部署
3. **不確定**：使用手動部署
4. **有重要資料**：一定要用完整部署
5. **緊急修復**：可以先用快速部署，後續再完整部署

**記住：完整部署會自動保護您的資料，是最安全的選擇！** 🛡️
